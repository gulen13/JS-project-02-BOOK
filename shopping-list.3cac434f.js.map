{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-551bc44905366803.js","src/JS/mobile-menu.js","src/JS/localStarage.js","node_modules/@parcel/runtime-js/lib/runtime-b72456753751e934.js","node_modules/@parcel/runtime-js/lib/runtime-eb2c663a17e12afc.js","node_modules/@parcel/runtime-js/lib/runtime-ee40fce6839ace75.js","node_modules/@parcel/runtime-js/lib/runtime-ed63c7e7c47e77a0.js","node_modules/@parcel/runtime-js/lib/runtime-e708e2779831e573.js","node_modules/@parcel/runtime-js/lib/runtime-569dd215045b9d20.js","src/JS/render-shopping-list.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"f9bx4\\\":\\\"shopping-list.3cac434f.js\\\",\\\"1yVwl\\\":\\\"amazon.c310520d.png\\\",\\\"6p5Hd\\\":\\\"amazon@2x.df259793.png\\\",\\\"7iYj6\\\":\\\"ibook.df0f8290.png\\\",\\\"4gePk\\\":\\\"ibook@2x.34e9ae8c.png\\\",\\\"5Ep3P\\\":\\\"bookshop.81af2e2b.png\\\",\\\"hqhbd\\\":\\\"bookshop@2x.fa38106c.png\\\"}\"));","const refs = {\n    openMenuBtn: document.querySelector('[data-menu-open]'),\n    closeMenuBtn: document.querySelector('[data-menu-close]'),\n    menu: document.querySelector('[data-menu]'),\n  };\n\n  refs.openMenuBtn.addEventListener('click', toggleModal);\n  refs.closeMenuBtn.addEventListener('click', toggleModal);\n\n  function toggleModal() {\n    refs.menu.classList.toggle('is-open');\n    refs.openMenuBtn.classList.toggle('is-hidden');\n    refs.closeMenuBtn.classList.toggle('is-hidden');\n  };","export function saveToLocalStorage(key, value) {\n  try {\n    const stringValue = JSON.stringify(value);\n    localStorage.setItem(key, stringValue);\n  } catch (error) {\n    console.error('Error: ', error.message);\n  }\n}","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1yVwl\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6p5Hd\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7iYj6\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4gePk\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"5Ep3P\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hqhbd\")).toString();","import { saveToLocalStorage } from './localStarage';\nimport amazon from '../images/amazon.png';\nimport amazon2x from '../images/amazon@2x.png';\nimport ibook from '../images/ibook.png';\nimport ibook2x from '../images/ibook@2x.png';\nimport bookshop from '../images/bookshop.png';\nimport bookshop2x from '../images/bookshop@2x.png';\n\nconst shoppingUl = document.querySelector('.shopping-list');\nconst shoppingWrapper = document.querySelector('.shopping-wrapper');\nconst localStorageKey = 'bookarray';\nlet uniqueBook = [];\n\nif (\n  JSON.parse(localStorage.getItem(localStorageKey)) &&\n  JSON.parse(localStorage.getItem(localStorageKey)).length > 0\n) {\n  shoppingWrapper.hidden = true;\n  renderShoppingList(JSON.parse(localStorage.getItem(localStorageKey)));\n} else {\n  shoppingWrapper.hidden = false;\n}\n\nfunction renderShoppingList(books) {\n  uniqueBook = Array.from(new Set(books.map(item => JSON.stringify(item)))).map(\n    item => JSON.parse(item)\n  );\n\n  const markup = uniqueBook\n    .map(book => {\n      return `\n      <li class=\"shopping-list--item\" data-id=\"${book._id}\">\n        <div class=\"shopping-list--img-wrapper\">\n          <img\n            class=\"shopping-list--img\"\n            src=\"${book.book_image}\"\n            alt=\"\"\n          />\n          <p class=\"shopping-list--author__mobile\">${book.author}</p>\n        </div>\n        <div class=\"shopping-list--info-wrapper\">\n          <h2 class=\"shopping-list--title\">${book.title}</h2>\n          <p class=\"shopping-list--category\">\n          ${book.list_name}\n          </p>\n        </div>\n        <ul class=\"shopping-list--link-list\">\n          <li>\n            <a href=\"${book.buy_links.find(link => link.name === 'Amazon').url};\n            })}\">\n            <img class=\"book-stores__img\" srcset=\" ${amazon} 1x, ${amazon2x}   2x\n            \"src=\"${amazon}\" alt=\"Amazon\" width=\"62\" height=\"19\">\n            </a>\n          </li>\n          <li>\n            <a href=\"${\n              book.buy_links.find(link => link.name === 'Apple Books').url\n            };\n            })}\">\n            <img class=\"book-stores__img\" srcset=\" ${ibook} 1x, ${ibook2x}   2x\n            \"src=\"${ibook}\" alt=\"Apple Books\" width=\"33\" height=\"32\">\n            </a>\n          </li>\n          <li>\n            <a href=\"${\n              book.buy_links.find(link => link.name === 'Bookshop').url\n            };\n            })}\">\n            <img class=\"book-stores__img\" srcset=\" ${bookshop} 1x, ${bookshop2x}   2x\n            \"src=\"${bookshop}\" alt=\"Bookshops\" width=\"38\" height=\"36\">\n            </a>\n          </li>\n        </ul>\n        <p class=\"shopping-list--description\">\n        ${book.description ? book.description : 'N/A'}\n        </p>\n        <p class=\"shopping-list--author\">${book.author}</p>\n        <button class=\"shopping-list--btn\" type=\"button\">\n          <svg class=\"shopping-list--btn__icon\">\n            <use href=\"./images/icons.svg#icon-dump\"></use>\n          </svg>\n        </button>\n      </li>\n      `;\n    })\n    .join('');\n  shoppingUl.insertAdjacentHTML('beforeend', markup);\n  return uniqueBook;\n}\n\nfunction deleteBookFromShopList(event) {\n  let id = event.target.parentElement.parentElement.getAttribute('data-id');\n  let li = event.target.parentElement.parentElement;\n  let ind = uniqueBook.findIndex(e => e._id === id);\n  if (ind !== -1) {\n    uniqueBook.splice(ind, 1);\n    saveToLocalStorage(localStorageKey, uniqueBook);\n  }\n\n  li.remove();\n}\n\nconst shoppingDelBtn = document.querySelector('.shopping-list--btn');\nshoppingDelBtn.addEventListener('click', deleteBookFromShopList);\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$a8f80de55895c409$var$refs","openMenuBtn","document","querySelector","closeMenuBtn","menu","$a8f80de55895c409$var$toggleModal","classList","toggle","$55179cbc6586b4f6$export$1b8cd2d0ef9a8e5d","key","value","stringValue","stringify","localStorage","setItem","error","console","message","addEventListener","$41f4bfe0f5168ce2$exports","URL","resolve","import","meta","url","toString","$bf2d03765356bc62$exports","$4f95c8fd44516e2a$exports","$7b73f4c045648a24$exports","$1b641b712ea7c913$exports","$dd3c45bc7ea6cc29$exports","$ca114aa9f8ca9d2a$var$shoppingUl","$ca114aa9f8ca9d2a$var$shoppingWrapper","$ca114aa9f8ca9d2a$var$uniqueBook","getItem","hidden","books","Array","from","Set","map","item","markup","book","_id","book_image","author","title","list_name","buy_links","find","link","name","$parcel$interopDefault","description","join","insertAdjacentHTML","$ca114aa9f8ca9d2a$var$renderShoppingList","event","target","parentElement","getAttribute","li","ind","findIndex","e","splice","remove"],"version":3,"file":"shopping-list.3cac434f.js.map"}