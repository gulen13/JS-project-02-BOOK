{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-7f367deb9e2747e2.js","src/JS/mobile-menu.js","src/JS/localStarage.js","node_modules/@parcel/runtime-js/lib/runtime-7c4977128d4f6b0a.js","node_modules/@parcel/runtime-js/lib/runtime-ddca1d1186593bd3.js","node_modules/@parcel/runtime-js/lib/runtime-c84515fd33d882b5.js","node_modules/@parcel/runtime-js/lib/runtime-055a7d167e531b5f.js","node_modules/@parcel/runtime-js/lib/runtime-91cdde53ab267d27.js","node_modules/@parcel/runtime-js/lib/runtime-e7304eab2a854f67.js","src/JS/render-shopping-list.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jSFKT\\\":\\\"shopping-list.59ae617c.js\\\",\\\"aaLHb\\\":\\\"amazon.c310520d.png\\\",\\\"5iIId\\\":\\\"amazon@2x.df259793.png\\\",\\\"aHcar\\\":\\\"ibook.df0f8290.png\\\",\\\"7vk6H\\\":\\\"ibook@2x.34e9ae8c.png\\\",\\\"kaCPy\\\":\\\"bookshop.81af2e2b.png\\\",\\\"loyOR\\\":\\\"bookshop@2x.fa38106c.png\\\"}\"));","const refs = {\n    openMenuBtn: document.querySelector('[data-menu-open]'),\n    closeMenuBtn: document.querySelector('[data-menu-close]'),\n    menu: document.querySelector('[data-menu]'),\n  };\n\n  refs.openMenuBtn.addEventListener('click', toggleModal);\n  refs.closeMenuBtn.addEventListener('click', toggleModal);\n\n  function toggleModal() {\n    refs.menu.classList.toggle('is-open');\n    refs.openMenuBtn.classList.toggle('is-hidden');\n    refs.closeMenuBtn.classList.toggle('is-hidden');\n  };","export function saveToLocalStorage(key, value) {\n  try {\n    const stringValue = JSON.stringify(value);\n    localStorage.setItem(key, stringValue);\n  } catch (error) {\n    console.error('Error: ', error.message);\n  }\n}","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"aaLHb\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"5iIId\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"aHcar\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"7vk6H\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"kaCPy\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"loyOR\");","import { saveToLocalStorage } from './localStarage';\nimport amazon from '../images/amazon.png';\nimport amazon2x from '../images/amazon@2x.png';\nimport ibook from '../images/ibook.png';\nimport ibook2x from '../images/ibook@2x.png';\nimport bookshop from '../images/bookshop.png';\nimport bookshop2x from '../images/bookshop@2x.png';\n\nconst shoppingUl = document.querySelector('.shopping-list');\nconst shoppingWrapper = document.querySelector('.shopping-wrapper');\nconst localStorageKey = 'bookarray';\nlet uniqueBook = [];\n\nif (\n  JSON.parse(localStorage.getItem(localStorageKey)) &&\n  JSON.parse(localStorage.getItem(localStorageKey)).length > 0\n) {\n  shoppingWrapper.hidden = true;\n  renderShoppingList(JSON.parse(localStorage.getItem(localStorageKey)));\n} else {\n  shoppingWrapper.hidden = false;\n}\n\nfunction renderShoppingList(books) {\n  uniqueBook = Array.from(new Set(books.map(item => JSON.stringify(item)))).map(\n    item => JSON.parse(item)\n  );\n\n  const markup = uniqueBook\n    .map(book => {\n      return `\n      <li class=\"shopping-list--item\" data-id=\"${book._id}\">\n        <div class=\"shopping-list--img-wrapper\">\n          <img\n            class=\"shopping-list--img\"\n            src=\"${book.book_image}\"\n            alt=\"\"\n          />\n          <p class=\"shopping-list--author__mobile\">${book.author}</p>\n        </div>\n        <div class=\"shopping-list--info-wrapper\">\n          <h2 class=\"shopping-list--title\">${book.title}</h2>\n          <p class=\"shopping-list--category\">\n          ${book.list_name}\n          </p>\n        </div>\n        <ul class=\"shopping-list--link-list\">\n          <li>\n            <a href=\"${book.buy_links.find(link => link.name === 'Amazon').url};\n            })}\">\n            <img class=\"book-stores__img\" srcset=\" ${amazon} 1x, ${amazon2x}   2x\n            \"src=\"${amazon}\" alt=\"Amazon\" width=\"62\" height=\"19\">\n            </a>\n          </li>\n          <li>\n            <a href=\"${\n              book.buy_links.find(link => link.name === 'Apple Books').url\n            };\n            })}\">\n            <img class=\"book-stores__img\" srcset=\" ${ibook} 1x, ${ibook2x}   2x\n            \"src=\"${ibook}\" alt=\"Apple Books\" width=\"33\" height=\"32\">\n            </a>\n          </li>\n          <li>\n            <a href=\"${\n              book.buy_links.find(link => link.name === 'Bookshop').url\n            };\n            })}\">\n            <img class=\"book-stores__img\" srcset=\" ${bookshop} 1x, ${bookshop2x}   2x\n            \"src=\"${bookshop}\" alt=\"Bookshops\" width=\"38\" height=\"36\">\n            </a>\n          </li>\n        </ul>\n        <p class=\"shopping-list--description\">\n        ${book.description ? book.description : 'N/A'}\n        </p>\n        <p class=\"shopping-list--author\">${book.author}</p>\n        <button class=\"shopping-list--btn\" type=\"button\">\n          <svg class=\"shopping-list--btn__icon\">\n            <use href=\"./images/icons.svg#icon-dump\"></use>\n          </svg>\n        </button>\n      </li>\n      `;\n    })\n    .join('');\n  shoppingUl.insertAdjacentHTML('beforeend', markup);\n  return uniqueBook;\n}\n\nfunction deleteBookFromShopList(event) {\n  let id = event.target.parentElement.parentElement.getAttribute('data-id');\n  let li = event.target.parentElement.parentElement;\n  let ind = uniqueBook.findIndex(e => e._id === id);\n  if (ind !== -1) {\n    uniqueBook.splice(ind, 1);\n    saveToLocalStorage(localStorageKey, uniqueBook);\n  }\n\n  li.remove();\n}\n\nconst shoppingDelBtn = document.querySelector('.shopping-list--btn');\nshoppingDelBtn.addEventListener('click', deleteBookFromShopList);\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$87b9cc18e9ae564b$var$refs","openMenuBtn","document","querySelector","closeMenuBtn","menu","$87b9cc18e9ae564b$var$toggleModal","classList","toggle","$b841c9bb511c407f$export$1b8cd2d0ef9a8e5d","key","stringValue","stringify","localStorage","setItem","error","console","message","addEventListener","$abd8cf5a00c75de7$exports","getBundleURL","resolve","$1fa80d4ee6059684$exports","$30ceae6b5669d34a$exports","$2993c9ba810da63f$exports","$6c9524a97f482e34$exports","$68b79c505f1a747b$exports","books","markup","$155c9ab745aaecb9$var$shoppingUl","$155c9ab745aaecb9$var$shoppingWrapper","$155c9ab745aaecb9$var$localStorageKey","$155c9ab745aaecb9$var$uniqueBook","getItem","hidden","Array","from","Set","map","item","book","concat","_id","book_image","author","title","list_name","buy_links","find","link","name","$parcel$interopDefault","description","join","insertAdjacentHTML","event","target","parentElement","getAttribute","li","ind","findIndex","e","splice","remove"],"version":3,"file":"shopping-list.59ae617c.js.map"}