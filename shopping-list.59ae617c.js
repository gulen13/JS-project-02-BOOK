!function(){function n(n,e,t,o){Object.defineProperty(n,e,{get:t,set:o,enumerable:!0,configurable:!0})}function e(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},i=t.parcelRequired7c6;null==i&&((i=function(n){if(n in o)return o[n].exports;if(n in r){var e=r[n];delete r[n];var t={id:n,exports:{}};return o[n]=t,e.call(t.exports,t,t.exports),t.exports}var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(n,e){r[n]=e},t.parcelRequired7c6=i),i.register("iE7OH",(function(e,t){var o,r;n(e.exports,"register",(function(){return o}),(function(n){return o=n})),n(e.exports,"resolve",(function(){return r}),(function(n){return r=n}));var i={};o=function(n){for(var e=Object.keys(n),t=0;t<e.length;t++)i[e[t]]=n[e[t]]},r=function(n){var e=i[n];if(null==e)throw new Error("Could not resolve bundle with id "+n);return e}})),i.register("aNJCr",(function(e,t){var o;n(e.exports,"getBundleURL",(function(){return o}),(function(n){return o=n}));var r={};function i(n){return(""+n).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}o=function(n){var e=r[n];return e||(e=function(){try{throw new Error}catch(e){var n=(""+e.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(n)return i(n[2])}return"/"}(),r[n]=e),e}})),i("iE7OH").register(JSON.parse('{"jSFKT":"shopping-list.59ae617c.js","aaLHb":"amazon.c310520d.png","5iIId":"amazon@2x.df259793.png","aHcar":"ibook.df0f8290.png","7vk6H":"ibook@2x.34e9ae8c.png","kaCPy":"bookshop.81af2e2b.png","loyOR":"bookshop@2x.fa38106c.png"}'));var a={openMenuBtn:document.querySelector("[data-menu-open]"),closeMenuBtn:document.querySelector("[data-menu-close]"),menu:document.querySelector("[data-menu]")};function s(){a.menu.classList.toggle("is-open"),a.openMenuBtn.classList.toggle("is-hidden"),a.closeMenuBtn.classList.toggle("is-hidden")}function c(n,e){try{var t=JSON.stringify(e);localStorage.setItem(n,t)}catch(n){console.error("Error: ",n.message)}}a.openMenuBtn.addEventListener("click",s),a.closeMenuBtn.addEventListener("click",s);var l;l=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("aaLHb");var u;u=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("5iIId");var p;p=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("aHcar");var d;d=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("7vk6H");var g;g=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("kaCPy");var f;f=i("aNJCr").getBundleURL("jSFKT")+i("iE7OH").resolve("loyOR");var h,m,v=document.querySelector(".shopping-list"),b=document.querySelector(".shopping-wrapper"),_="bookarray",S=[];JSON.parse(localStorage.getItem(_))&&JSON.parse(localStorage.getItem(_)).length>0?(b.hidden=!0,h=JSON.parse(localStorage.getItem(_)),m=(S=Array.from(new Set(h.map((function(n){return JSON.stringify(n)})))).map((function(n){return JSON.parse(n)}))).map((function(n){return'\n      <li class="shopping-list--item" data-id="'.concat(n._id,'">\n        <div class="shopping-list--img-wrapper">\n          <img\n            class="shopping-list--img"\n            src="').concat(n.book_image,'"\n            alt=""\n          />\n          <p class="shopping-list--author__mobile">').concat(n.author,'</p>\n        </div>\n        <div class="shopping-list--info-wrapper">\n          <h2 class="shopping-list--title">').concat(n.title,'</h2>\n          <p class="shopping-list--category">\n          ').concat(n.list_name,'\n          </p>\n        </div>\n        <ul class="shopping-list--link-list">\n          <li>\n            <a href="').concat(n.buy_links.find((function(n){return"Amazon"===n.name})).url,';\n            })}">\n            <img class="book-stores__img" srcset=" ').concat(e(l)," 1x, ").concat(e(u),'   2x\n            "src="').concat(e(l),'" alt="Amazon" width="62" height="19">\n            </a>\n          </li>\n          <li>\n            <a href="').concat(n.buy_links.find((function(n){return"Apple Books"===n.name})).url,';\n            })}">\n            <img class="book-stores__img" srcset=" ').concat(e(p)," 1x, ").concat(e(d),'   2x\n            "src="').concat(e(p),'" alt="Apple Books" width="33" height="32">\n            </a>\n          </li>\n          <li>\n            <a href="').concat(n.buy_links.find((function(n){return"Bookshop"===n.name})).url,';\n            })}">\n            <img class="book-stores__img" srcset=" ').concat(e(g)," 1x, ").concat(e(f),'   2x\n            "src="').concat(e(g),'" alt="Bookshops" width="38" height="36">\n            </a>\n          </li>\n        </ul>\n        <p class="shopping-list--description">\n        ').concat(n.description?n.description:"N/A",'\n        </p>\n        <p class="shopping-list--author">').concat(n.author,'</p>\n        <button class="shopping-list--btn" type="button">\n          <svg class="shopping-list--btn__icon">\n            <use href="./images/icons.svg#icon-dump"></use>\n          </svg>\n        </button>\n      </li>\n      ')})).join(""),v.insertAdjacentHTML("beforeend",m)):b.hidden=!1,document.querySelector(".shopping-list--btn").addEventListener("click",(function(n){var e=n.target.parentElement.parentElement.getAttribute("data-id"),t=n.target.parentElement.parentElement,o=S.findIndex((function(n){return n._id===e}));-1!==o&&(S.splice(o,1),c(_,S)),t.remove()}))}();
//# sourceMappingURL=shopping-list.59ae617c.js.map
